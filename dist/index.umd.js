!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("lodash")):"function"==typeof define&&define.amd?define(["react","lodash"],n):(e="undefined"!=typeof globalThis?globalThis:e||self)["rr-multi-select"]=n(e.React,e.lodash)}(this,(function(e,n){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),a=t(n);function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,l=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(o)throw a}}return l}(e,n)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=[],d=[];!function(e,n){if(e&&"undefined"!=typeof document){var t,r=!0===n.prepend?"prepend":"append",a=!0===n.singleTag,l="string"==typeof n.container?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(a){var i=s.indexOf(l);-1===i&&(i=s.push(l)-1,d[i]={}),t=d[i]&&d[i][r]?d[i][r]:d[i][r]=o()}else t=o();65279===e.charCodeAt(0)&&(e=e.substring(1)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(document.createTextNode(e))}function o(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),n.attributes)for(var t=Object.keys(n.attributes),a=0;a<t.length;a++)e.setAttribute(t[a],n.attributes[t[a]]);var i="prepend"===r?"afterbegin":"beforeend";return l.insertAdjacentElement(i,e),e}}('.rrms {\n  position:relative;\n  font-size: 1em;\n}\n.rrms-field {\n  display: table;\n  width:100%;\n  border: 1px solid #a3a3a3;\n  min-height: 44px\n}\n.rrms-field > div {\n  display: table-cell;\n  vertical-align: middle;\n  padding: 5px 10px;\n  cursor: pointer;\n}\n.rrms-value > span {\n  display: inline-block;\n  background: linear-gradient(45deg, #6a7d5e, #3f6f26);\n  padding: 2px 5px;\n  margin: 2px;\n  border-radius: 2px;\n  color: #fff;\n}\n.rrms-icons {\n  text-align: right;\n  width: 15px;\n}\nul.rrms-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  max-height:300px;\n  overflow: auto\n}\nul.rrms-list li {\n  cursor: pointer;\n  padding: 5px 10px;\n  border-bottom: 1px solid rgb(0 0 0 / 10%)\n}\nul.rrms-list li > div {\n  position: relative;\n  padding-left: 1.4em;\n}\nul.rrms-list li > div::before {\n  content: "";\n  width: 0.73em;\n  height: 0.73em;\n  border: 1px solid;\n  position: absolute;\n  top: 0.125em;\n  left: 0;\n  font-size: 1.1em;\n  border-radius: 2px;\n}\nul.rrms-list li.a {\n  background: linear-gradient(45deg, #6a7d5e, #3f6f26);\n  color: #fff\n}\nul.rrms-list li.a:hover {\n  background: linear-gradient(45deg, #3f6f26, #6a7d5e);\n  color: #ffffff;\n}\nul.rrms-list li:hover {\n  background: linear-gradient(45deg, #eeeeee, #aebda4)\n}\nul.rrms-list li.a > div::before {\n  background: #3e5731;\n  border-color: #123102;\n}\nul.rrms-list li.a > div::after {\n  content: "✓";\n  top: 0.02em;\n  left: 0.07em;\n  position: absolute;\n  color: #fff;\n  width: 0.73em;\n  height: 0.73em;\n  transform: scale(0.75);\n}\n.rrms-input {\n  position:absolute;\n  width:100%;\n  top:0;\n  left:0;\n  border:1px solid #a3a3a3;\n  background: #eee;\n  box-shadow: 0 5px 20px -5px rgba(0,0,0,0.3);\n  overflow:auto;\n  z-index:9;\n}\n.rrms-input > input, .rrms-input > input:focus {\n  padding: 5px 10px;\n  width:100%;\n  height: 30px;\n  box-shadow: inset 0 0 10px rgb(0,0,0,0.25);\n  border: 2px solid #4e9428;\n  outline: none;\n}\n.rrms-caret {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 6px solid #a4a4a4;\n  top: -2px;\n  position: relative;\n}\n',{});return function(n){var t=n.options,o=n.inputPlaceholder,u=n.placeholderText,s=n.value,d=n.onChange;n.inputStyle;var c=n.isObject,f=l(e.useState(!1),2),p=f[0],m=f[1],g=l(e.useState(s),2),b=g[0],h=g[1],v=l(e.useState(t),2),y=v[0],x=v[1],E=l(e.useState(""),2),w=E[0],S=E[1];e.useEffect((function(){s&&h(s)}),[s]);var k,A=e.useRef();k=A,e.useEffect((function(){function e(e){k.current&&!k.current.contains(e.target)&&m(!1)}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[k]);var N=function(e){e.preventDefault(),e.target.classList.contains("fa-times")||(S(""),t&&x(t),m(1))};return r.default.createElement("div",{className:"rrms",ref:A},r.default.createElement("div",{className:"rrms-field"},r.default.createElement("div",{className:"rrms-value",onClick:N},b.length?r.default.createElement(r.default.Fragment,null,b.map((function(e){return r.default.createElement("span",{key:c?e[c[0]]:e},c?e[c[1]]:e)}))):r.default.createElement(r.default.Fragment,null,u||"Select...")),r.default.createElement("div",{className:"rrms-icons",onClick:b.length?function(){h([]),d&&d([])}:N},b.length?r.default.createElement("span",null,"✕"):r.default.createElement("span",null,r.default.createElement("i",{className:"rrms-caret"})))),p&&r.default.createElement("div",{className:"rrms-input"},r.default.createElement("input",{type:"text",value:w,onChange:function(e){var n=e.target.value;S(n);var r=t.filter((function(e){return(c?e[c[1]]:e).toLowerCase().includes(n.toLowerCase())}));x(r)},autoComplete:"off",placeholder:o||"Type to search...",autoFocus:!0}),r.default.createElement("ul",{className:"rrms-list"},y.length?y.map((function(e){var n=c?e[c[0]]:e,t=c?e[c[1]]:e;return r.default.createElement("li",{key:n,onClick:function(n){return function(e,n){"LI"===e.target.nodeName?e.target.classList.toggle("a"):e.target.parentElement.classList.toggle("a");var t=a.default.find(b,(function(e){return e===n}))?a.default.remove(b,(function(e){return e!==n})):[].concat(i(b),[n]);h(t),d&&d(t)}(n,e)},className:a.default.find(b,(function(n){return n===e}))?"a":""},r.default.createElement("div",null,t))})):r.default.createElement("li",null,"No result!"))))}}));
